<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        #menu_zzjs_net{margin:10px;width:200px;overflow:hidden;}
        #menu_zzjs_net li{line-height:25px;}
        #menu_zzjs_net li a{color:#666666;padding-left:5px;outline:none;}
        #menu_zzjs_net li input{vertical-align:middle;margin-left:5px;}
        #menu_zzjs_net .two{padding-left:20px;display:none;}
        .tianjia{border: 1px solid #797979;margin: 2px 10px;padding-top: 5px;padding-left:5px;width: auto}
        .tianjia p{width: 350px}
    </style>
   </head>
<body>
    <div class="col-md-9" style="height:auto;border: 1px solid #797979;background-color: #ffffff;margin-left: 50px;padding: 5px 5px">
        <h4>基本信息</h4>
        <div class="col-md-offset-2">任务名称：<label><input type="text" class="form-control input-sm"></label></div>
        <div class="col-md-4" style="text-align: center"><h4>选择质检任务</h4></div>
        <div class="col-md-5" style="text-align: center"><h4>选定质检任务</h4></div>
        <div class="col-md-4" style="border: 1px solid #797979;height: auto;padding: 5px 5px">
            <div class="input-group">
                <input type="text" class="form-control">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
                </span>
            </div>
            <ul id="menu_zzjs_net">
                <li>
                    <label><a href="javascript:">桃源居</a></label>
                    <ul class="two">
                        <li>
                            <label><a href="javascript:">一区</a></label>
                            <ul class="two">
                                <li>
                                    <label><input type="checkbox" value="123456"><a href="javascript:">一栋</a></label>
                                    <ul class="two">
                                        <li><label><input type="checkbox" value="123456"><a href="javascript:">垃圾桶</a></label></li>
                                        <li>
                                            <label><input type="checkbox" value="123456"><a href="javascript:">卫生间</a></label>
                                            <ul class="two">
                                                <li>
                                                    <label><input type="checkbox" value="123456"><a href="javascript:;">水槽</a></label>
                                                    <ul class="two">
                                                        <li><label><input type="checkbox" value="123456"><a href="javascript:">下水管</a></label></li>
                                                        <li><label><input type="checkbox" value="123456"><a href="javascript:">龙头</a></label></li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        <li><label><input type="checkbox" value="123456"><a href="javascript:">楼道卫生</a></label></li>
                                        <li><label><input type="checkbox" value="123456"><a href="javascript:">应急楼梯</a></label></li>
                                        <li><label><input type="checkbox" value="123456"><a href="javascript:">绿化检查</a></label></li>
                                        <li><label><input type="checkbox" value="123456"><a href="javascript:">灭火器</a></label></li>
                                    </ul>
                                <li><label><input type="checkbox" value="123456"><a href="javascript:">二栋</a></label></li>
                                <li><label><input type="checkbox" value="123456"><a href="javascript:">三栋</a></label></li>
                                <li><label><input type="checkbox" value="123456"><a href="javascript:">四栋</a></label></li>
                            </ul>
                        </li>

                        <li><label><a href="javascript:">二区</a></label></li>
                        <li><label><a href="javascript:">三区</a></label></li>
                    </ul>
                </li>
            </ul>

        </div>
        <div class="col-md-1"><br><h3><strong>》》</strong></h3><br><br><h3><strong>》》</strong></h3></div>
        <div class="col-md-4" style="border: 1px solid #797979;height: 400px;padding: 5px 5px;width: auto">
            <div class="tianjia"><p>桃源居一区一栋垃圾桶<span class="glyphicon glyphicon-remove pull-right"></span></p></div>
            <div class="tianjia"><p>桃源居一区一栋灭火器<span class="glyphicon glyphicon-remove pull-right"></span></p></div>
            <div class="tianjia"><p>桃源居一区一栋楼道卫生<span class="glyphicon glyphicon-remove pull-right"></span></p></div>
            <div  class="tianjia"><p>桃源居一区一栋绿化检查<span class="glyphicon glyphicon-remove pull-right"></span></p></div>
            <div class="tianjia"><p>桃源居一区一栋卫生间<span class="glyphicon glyphicon-remove pull-right"></span></p></div>
            <div class="tianjia"><p>桃源居一区一栋应急楼梯<span class="glyphicon glyphicon-remove pull-right"></span></p></div>
        </div>
        <div class="col-md-12" style="margin:10px 240px">
            <button style="width: 80px">提交</button>
            <button style="width: 80px" ui-sref="index.externalProfession.departmentOfInspection.cleaning">取消</button>
        </div>
    </div>
</body>


<script>

    function addEvent(el,name,fn){
        if(el.addEventListener) return el.addEventListener(name,fn,false);
        return el.attachEvent('on'+name,fn);
    }
    function nextnode(node){
        if(!node)return ;
        if(node.nodeType == 1)
            return node;
        if(node.nextSibling)
            return nextnode(node.nextSibling);
    }
    function prevnode(node){
        if(!node)return ;
        if(node.nodeType == 1)
            return node;
        if(node.previousSibling)
            return prevnode(node.previousSibling);
    }
    function parcheck(self,checked){
        var par =  prevnode(self.parentNode.parentNode.parentNode.previousSibling);
        if(par&&par.getElementsByTagName('input')[0]){
            par.getElementsByTagName('input')[0].checked = checked;
            parcheck(par.getElementsByTagName('input')[0],sibcheck(par.getElementsByTagName('input')[0]));
        }
    }
    function sibcheck(self){
        var sbi = self.parentNode.parentNode.parentNode.childNodes,n=0;
        for(var i=0;i<sbi.length;i++){
            if(sbi[i].nodeType != 1)
                n++;
            else if(sbi[i].getElementsByTagName('input')[0].checked)
                n++;
        }
    }
    addEvent(document.getElementById('menu_zzjs_net'),'click',function(e){
        e = e||window.event;
        var target = e.target||e.srcElement;
        var tp = nextnode(target.parentNode.nextSibling);
        switch(target.nodeName){
            case 'A':
                if(tp&&tp.nodeName == 'UL'){
                    if(tp.style.display != 'block' ){
                        tp.style.display = 'block';
                    }else{
                        tp.style.display = 'none';
                    }
                }
                break;
            case 'SPAN':
                var ap = nextnode(nextnode(target.nextSibling).nextSibling);
                if(ap.style.display != 'block' ){
                    ap.style.display = 'block';
                }else{
                    ap.style.display = 'none';
                }
                break;
            case 'INPUT':
                if(target.checked){
                    if(tp){
                        var checkbox = tp.getElementsByTagName('input');
                        for(var i=0;i<checkbox.length;i++)
                            checkbox[i].checked = true;
                    }
                }else{
                    if(tp){
                        var checkbox= tp.getElementsByTagName('input');
                        for(var i=0;i<checkbox.length;i++)
                            checkbox[i].checked = false;
                    }
                }
                parcheck(target,sibcheck(target));
                break;
        }
    });

</script>
</html>